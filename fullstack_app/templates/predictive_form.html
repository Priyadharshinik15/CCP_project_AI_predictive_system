@app.route('/predictive_form', methods=['GET', 'POST'])
def predictive_form():
    if request.method == 'POST':
        # Collect form data
        name = request.form['name']
        age = int(request.form['age'])
        gender = request.form['gender']
        memory_loss = int(request.form['memory_loss'])
        behaviour = int(request.form['behaviour'])
        tremors = int(request.form['tremors'])
        coordination = int(request.form['coordination'])
        seizures = int(request.form['seizures'])
        vision = int(request.form['vision'])
        copper = float(request.form['copper'])

        
        input_data = np.array([[age, memory_loss, behaviour,
                                tremors, coordination, seizures,
                                vision, copper]])
        scaled_input = scaler.transform(input_data)
        predicted_disease = model.predict(scaled_input)[0]

       
        global predictions
        if "predictions" not in globals():
            predictions = []
        predictions.append(predicted_disease)

        # Remedies (example logic)
        remedies = {
            "Wilson's Disease": "Low-copper diet, zinc supplements, regular liver check-ups.",
            "CJD": "No cure, supportive care, pain management, therapy.",
            "Niemann-Pick Type C": "Medications like miglustat, physiotherapy, healthy diet.",
            "Bat Disease": "No cure, supportive treatment, seizure control, physiotherapy.",
            "None": "Eat fruits, exercise regularly, and stay healthy."
        }
        remedy = remedies.get(predicted_disease, "General wellness: eat fruits and stay healthy.")

        # Send result to template
        return render_template("result.html",
                               name=name, age=age, gender=gender,
                               memory_loss=memory_loss, behaviour=behaviour,
                               tremors=tremors, coordination=coordination,
                               seizures=seizures, vision=vision, copper=copper,
                               prediction=predicted_disease, remedy=remedy)

    return render_template("predictive_form.html")
